#!/usr/bin/env bash

source env/dev-setup-config.env

# place shell user in compose folder to enable execution of bin/* commands
COMMAND="cd $COMPOSE_PATH"

# Files to modify
FILES=("$HOME/.bashrc" "$HOME/.bash_profile")

# Add the command to each file, creating the file if it doesn't exist
for FILE in "${FILES[@]}"; do
    if [ ! -f "$FILE" ]; then
        touch "$FILE"
        echo "Created $FILE"
    fi
    if ! grep -Fxq "$COMMAND" "$FILE"; then
        echo "$COMMAND" >> "$FILE"
        echo "Added to $FILE"
    else
        echo "$COMMAND already exists in $FILE"
    fi
done

echo "Profil Bash modifi√© pour pouvoir lancer les commandes bin/* rapidement"
